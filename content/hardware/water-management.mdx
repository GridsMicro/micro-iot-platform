---
title: 'Smart Water Management for Sustainable Farming'
date: '2025-01-03'
---

# Smart Water Management System

## Why Water Management Matters

‡∏ô‡πâ‡∏≥‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ç‡∏â‡∏•‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏¥‡πÄ‡∏ß‡∏®:

‚úÖ **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ô‡πâ‡∏≥ 30-50%** - ‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏ö‡∏ô‡πâ‡∏≥  
‚úÖ **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï** - ‡∏û‡∏∑‡∏ä‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏û‡∏≠‡∏î‡∏µ ‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏ô‡πâ‡∏≠‡∏¢  
‚úÖ **‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÇ‡∏£‡∏Ñ‡∏û‡∏∑‡∏ä** - ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô  
‚úÖ **‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏¥‡πÄ‡∏ß‡∏®** - ‡πÑ‡∏°‡πà‡∏™‡∏π‡∏ö‡∏ô‡πâ‡∏≥‡∏ö‡∏≤‡∏î‡∏≤‡∏•‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ  

---

## Water Monitoring Sensors

### 1. **Soil Moisture Sensor** (‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏î‡∏¥‡∏ô)

**Types:**

#### A. Capacitive Soil Moisture Sensor (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
- **Price**: ~‡∏ø50-80
- **Pros**: ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ô‡∏¥‡∏°, ‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô, ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
- **Cons**: ‡πÅ‡∏û‡∏á‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏ö‡∏ö Resistive ‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢
- **Lifespan**: 2-3 ‡∏õ‡∏µ

**Wiring:**
```
Sensor ‚Üí ESP32/STM32
VCC    ‚Üí 3.3V
GND    ‚Üí GND
AOUT   ‚Üí GPIO34 (Analog)
```

**Code Example (ESP32):**
```cpp
#define SOIL_PIN 34

void setup() {
  Serial.begin(115200);
}

void loop() {
  int soilValue = analogRead(SOIL_PIN);
  
  // Convert to percentage (calibrate for your soil)
  int soilMoisture = map(soilValue, 4095, 1500, 0, 100);
  soilMoisture = constrain(soilMoisture, 0, 100);
  
  Serial.print("Soil Moisture: ");
  Serial.print(soilMoisture);
  Serial.println("%");
  
  // Auto-irrigation logic
  if (soilMoisture < 30) {
    Serial.println("üö® Soil too dry! Turning ON pump...");
    digitalWrite(RELAY_PIN, HIGH);
  } else if (soilMoisture > 70) {
    Serial.println("‚úÖ Soil wet enough. Turning OFF pump.");
    digitalWrite(RELAY_PIN, LOW);
  }
  
  delay(5000);
}
```

#### B. Resistive Soil Moisture Sensor (‡∏á‡∏ö‡∏ô‡πâ‡∏≠‡∏¢)
- **Price**: ~‡∏ø20-30
- **Pros**: ‡∏ñ‡∏π‡∏Å‡∏°‡∏≤‡∏Å
- **Cons**: ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ô‡∏¥‡∏°‡∏á‡πà‡∏≤‡∏¢ (‡∏≠‡∏≤‡∏¢‡∏∏ 3-6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)

### 2. **Water Level Sensor** (‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥)

**Types:**

#### A. Ultrasonic Sensor (HC-SR04)
- **Price**: ~‡∏ø30-50
- **Range**: 2-400 cm
- **Use**: ‡∏ß‡∏±‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏ñ‡∏±‡∏á/‡∏ö‡πà‡∏≠

**Code Example:**
```cpp
#define TRIG_PIN 5
#define ECHO_PIN 18

float getWaterLevel() {
  digitalWrite(TRIG_PIN, LOW);
  delayMicroseconds(2);
  digitalWrite(TRIG_PIN, HIGH);
  delayMicroseconds(10);
  digitalWrite(TRIG_PIN, LOW);
  
  long duration = pulseIn(ECHO_PIN, HIGH);
  float distance = duration * 0.034 / 2; // cm
  
  // Tank height = 100cm, sensor at top
  float waterLevel = 100 - distance;
  return waterLevel;
}

void loop() {
  float level = getWaterLevel();
  Serial.print("Water Level: ");
  Serial.print(level);
  Serial.println(" cm");
  
  if (level < 20) {
    Serial.println("‚ö†Ô∏è Low water! Refill tank.");
    // Send alert via MQTT
  }
}
```

#### B. Float Switch (‡∏•‡∏π‡∏Å‡∏•‡∏≠‡∏¢)
- **Price**: ~‡∏ø50-100
- **Pros**: ‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î, ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î
- **Use**: ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### 3. **Water Flow Sensor** (‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≥)

**Model**: YF-S201 (1/2")
- **Price**: ~‡∏ø80-120
- **Use**: ‡∏ß‡∏±‡∏î‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ô‡πâ‡∏≥‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ (‡∏•‡∏¥‡∏ï‡∏£/‡∏ô‡∏≤‡∏ó‡∏µ)

**Code Example:**
```cpp
#define FLOW_PIN 2
volatile int pulseCount = 0;
float flowRate = 0.0;
float totalLiters = 0.0;

void IRAM_ATTR pulseCounter() {
  pulseCount++;
}

void setup() {
  pinMode(FLOW_PIN, INPUT_PULLUP);
  attachInterrupt(digitalPinToInterrupt(FLOW_PIN), pulseCounter, FALLING);
}

void loop() {
  delay(1000);
  
  // Calculate flow rate (L/min)
  flowRate = (pulseCount / 7.5); // YF-S201: 7.5 pulses/L
  totalLiters += (flowRate / 60); // Convert to liters
  
  Serial.print("Flow: ");
  Serial.print(flowRate);
  Serial.print(" L/min | Total: ");
  Serial.print(totalLiters);
  Serial.println(" L");
  
  pulseCount = 0;
}
```

---

## Smart Irrigation System

### Basic Drip Irrigation Setup

**Components:**
1. **Water Pump**: 12V DC (~‡∏ø200-400)
2. **Relay Module**: 5V (~‡∏ø30)
3. **Drip Irrigation Kit**: (~‡∏ø300-500)
4. **Soil Moisture Sensor**: (~‡∏ø50)
5. **Water Tank**: 100-200L (~‡∏ø500-1,000)

**Total**: ~‡∏ø1,100-2,000

### Wiring Diagram:

```
ESP32 ‚Üí Relay ‚Üí Water Pump ‚Üí Drip Lines
  ‚Üë
Soil Moisture Sensor
```

### Complete Auto-Irrigation Code:

```cpp
#include <WiFi.h>
#include <PubSubClient.h>

#define SOIL_PIN 34
#define RELAY_PIN 5
#define FLOW_PIN 2

// Thresholds
const int DRY_THRESHOLD = 30;   // Turn ON pump
const int WET_THRESHOLD = 70;   // Turn OFF pump

WiFiClient espClient;
PubSubClient mqtt(espClient);

void setup() {
  Serial.begin(115200);
  pinMode(RELAY_PIN, OUTPUT);
  digitalWrite(RELAY_PIN, LOW); // Pump OFF
  
  // Connect to WiFi & MQTT
  connectWiFi();
  mqtt.setServer("192.168.1.100", 1883);
}

void loop() {
  int moisture = readSoilMoisture();
  
  // Send data to platform
  sendMQTT("soil_moisture", moisture);
  
  // Auto-irrigation logic
  if (moisture < DRY_THRESHOLD) {
    turnOnPump();
  } else if (moisture > WET_THRESHOLD) {
    turnOffPump();
  }
  
  delay(60000); // Check every 1 minute
}

int readSoilMoisture() {
  int raw = analogRead(SOIL_PIN);
  return map(raw, 4095, 1500, 0, 100);
}

void turnOnPump() {
  digitalWrite(RELAY_PIN, HIGH);
  Serial.println("üíß Pump ON");
  sendMQTT("pump_status", "ON");
}

void turnOffPump() {
  digitalWrite(RELAY_PIN, LOW);
  Serial.println("üõë Pump OFF");
  sendMQTT("pump_status", "OFF");
}
```

---

## Water Conservation Techniques

### 1. **Rainwater Harvesting** (‡πÄ‡∏Å‡πá‡∏ö‡∏ô‡πâ‡∏≥‡∏ù‡∏ô)

**Setup:**
- Roof area: 100 m¬≤
- Annual rainfall (Bangkok): ~1,500 mm
- **Potential**: 100 √ó 1.5 = **150,000 liters/year!**

**Components:**
- Gutter system (~‡∏ø2,000-5,000)
- Storage tank 1,000-2,000L (~‡∏ø3,000-8,000)
- First flush diverter (~‡∏ø500)
- Filter (~‡∏ø300)

**ROI**: ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥ ~‡∏ø3,000-5,000/‡∏õ‡∏µ

### 2. **Drip Irrigation** (‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î)

**Benefits:**
- ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ô‡πâ‡∏≥ 30-50% vs ‡∏™‡∏õ‡∏£‡∏¥‡∏á‡πÄ‡∏Å‡∏•‡∏≠‡∏£‡πå
- ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡πÄ‡∏´‡∏¢‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≥
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö (‡πÉ‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å)

**Cost**: ~‡∏ø300-500 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà 10-20 ‡∏ï‡∏£.‡∏°.

### 3. **Mulching** (‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô)

**Materials:**
- ‡∏ü‡∏≤‡∏á‡∏Ç‡πâ‡∏≤‡∏ß (‡∏ü‡∏£‡∏µ!)
- ‡πÄ‡∏®‡∏©‡πÑ‡∏°‡πâ (~‡∏ø50-100/‡∏ñ‡∏∏‡∏á)
- ‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô (~‡∏ø200-400/‡∏°‡πâ‡∏ß‡∏ô)

**Benefits:**
- ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏î‡∏¥‡∏ô
- ‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡πÄ‡∏´‡∏¢‡∏ô‡πâ‡∏≥ 50-70%
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ß‡∏±‡∏ä‡∏û‡∏∑‡∏ä

---

## Water Quality Monitoring

### pH Sensor (‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏î-‡∏î‡πà‡∏≤‡∏á)

**Model**: Analog pH Sensor
- **Price**: ~‡∏ø400-600
- **Range**: pH 0-14
- **Use**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ô‡πâ‡∏≥

**Ideal pH for crops:**
- ‡∏ú‡∏±‡∏Å‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ: 6.0-7.0
- ‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®: 6.0-6.8
- ‡∏Ç‡πâ‡∏≤‡∏ß: 5.5-6.5

### TDS Sensor (‡∏ß‡∏±‡∏î‡πÅ‡∏£‡πà‡∏ò‡∏≤‡∏ï‡∏∏‡πÉ‡∏ô‡∏ô‡πâ‡∏≥)

**Model**: TDS Meter
- **Price**: ~‡∏ø200-400
- **Use**: ‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πã‡∏¢

**Code Example:**
```cpp
#define TDS_PIN 35

float readTDS() {
  int raw = analogRead(TDS_PIN);
  float voltage = raw * (3.3 / 4095.0);
  float tds = (133.42 * voltage * voltage * voltage 
             - 255.86 * voltage * voltage 
             + 857.39 * voltage) * 0.5;
  return tds;
}

void loop() {
  float tds = readTDS();
  Serial.print("TDS: ");
  Serial.print(tds);
  Serial.println(" ppm");
  
  if (tds < 300) {
    Serial.println("‚ö†Ô∏è Low nutrients. Add fertilizer.");
  } else if (tds > 1500) {
    Serial.println("‚ö†Ô∏è Too concentrated! Dilute.");
  }
}
```

---

## Ecosystem-Friendly Practices

### 1. **Biofilter for Wastewater** (‡∏Å‡∏£‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏û‡∏∑‡∏ä)

**Plants for biofilter:**
- ‡∏ú‡∏±‡∏Å‡∏ï‡∏ö‡∏ä‡∏ß‡∏≤ (Water Hyacinth) - ‡∏î‡∏π‡∏î‡∏ã‡∏±‡∏ö‡πÇ‡∏•‡∏´‡∏∞‡∏´‡∏ô‡∏±‡∏Å
- ‡∏ï‡πâ‡∏ô‡∏Å‡∏Å (Cattail) - ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô
- ‡∏ú‡∏±‡∏Å‡∏ö‡∏∏‡πâ‡∏á‡∏ô‡πâ‡∏≥ - ‡∏î‡∏π‡∏î‡∏ã‡∏±‡∏ö‡πÑ‡∏ô‡πÇ‡∏ï‡∏£‡πÄ‡∏à‡∏ô

**Setup:**
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡πà‡∏≠‡∏Å‡∏£‡∏≠‡∏á 3 ‡∏ä‡∏±‡πâ‡∏ô
2. ‡∏ô‡πâ‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡πÑ‡∏´‡∏•‡∏ú‡πà‡∏≤‡∏ô‡∏û‡∏∑‡∏ä‡∏Å‡∏£‡∏≠‡∏á
3. ‡∏ô‡πâ‡∏≥‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ

### 2. **Aquaponics Integration** (‡∏õ‡∏•‡∏π‡∏Å‡∏û‡∏∑‡∏ä‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏õ‡∏•‡∏≤)

**Concept:**
```
‡∏õ‡∏•‡∏≤ ‚Üí ‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢ (‡πÅ‡∏≠‡∏°‡πÇ‡∏°‡πÄ‡∏ô‡∏µ‡∏¢) ‚Üí ‡πÅ‡∏ö‡∏Ñ‡∏ó‡∏µ‡πÄ‡∏£‡∏µ‡∏¢ ‚Üí ‡πÑ‡∏ô‡πÄ‡∏ï‡∏£‡∏ï ‚Üí ‡∏û‡∏∑‡∏ä ‚Üí ‡∏Å‡∏£‡∏≠‡∏á‡∏ô‡πâ‡∏≥ ‚Üí ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏≤‡∏õ‡∏•‡∏≤
```

**Benefits:**
- ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ô‡πâ‡∏≥ 90% vs ‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏ô‡∏î‡∏¥‡∏ô
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πã‡∏¢‡πÄ‡∏Ñ‡∏°‡∏µ
- ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏ú‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≤

**Sensors needed:**
- pH sensor
- Temperature sensor
- Dissolved Oxygen sensor (~‡∏ø800-1,200)

### 3. **Companion Planting** (‡∏õ‡∏•‡∏π‡∏Å‡∏û‡∏∑‡∏ä‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô)

**Examples:**
- **‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏® + ‡πÇ‡∏´‡∏£‡∏∞‡∏û‡∏≤** - ‡πÑ‡∏•‡πà‡πÅ‡∏°‡∏•‡∏á
- **‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î + ‡∏ñ‡∏±‡πà‡∏ß** - ‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ô‡πÇ‡∏ï‡∏£‡πÄ‡∏à‡∏ô‡πÉ‡∏´‡πâ‡∏î‡∏¥‡∏ô
- **‡πÅ‡∏ï‡∏á‡∏Å‡∏ß‡∏≤ + ‡∏î‡∏≠‡∏Å‡∏î‡∏≤‡∏ß‡πÄ‡∏£‡∏∑‡∏≠‡∏á** - ‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡πÅ‡∏°‡∏•‡∏á‡∏ú‡∏™‡∏°‡πÄ‡∏Å‡∏™‡∏£

---

## Water Usage Analytics

### Dashboard Metrics:

**Daily Water Consumption:**
```javascript
// In your Next.js dashboard
const WaterUsageChart = () => {
  const data = {
    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
    datasets: [{
      label: 'Water Used (Liters)',
      data: [45, 52, 38, 65, 48, 42, 50],
      backgroundColor: 'rgba(16, 185, 129, 0.5)',
    }]
  };
  
  return <Line data={data} />;
};
```

**Efficiency Metrics:**
- **Water per plant**: ‡∏•‡∏¥‡∏ï‡∏£/‡∏ï‡πâ‡∏ô/‡∏ß‡∏±‡∏ô
- **Water per yield**: ‡∏•‡∏¥‡∏ï‡∏£/‡∏Å‡∏Å.
- **Irrigation efficiency**: % (‡∏ô‡πâ‡∏≥‡∏ó‡∏µ‡πà‡∏û‡∏∑‡∏ä‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏à‡∏£‡∏¥‡∏á)

---

## Advanced: Predictive Irrigation

### Using Weather API

```javascript
// Fetch weather forecast
const getWeatherForecast = async () => {
  const response = await fetch(
    `https://api.openweathermap.org/data/2.5/forecast?lat=13.75&lon=100.50&appid=YOUR_KEY`
  );
  const data = await response.json();
  
  // Check if rain expected in next 24h
  const rainExpected = data.list.some(item => 
    item.weather[0].main === 'Rain'
  );
  
  if (rainExpected) {
    console.log("üåßÔ∏è Rain expected. Skip irrigation.");
    return false; // Don't irrigate
  }
  
  return true; // OK to irrigate
};
```

### Smart Scheduling

```cpp
// In ESP32
struct IrrigationSchedule {
  int hour;
  int duration; // minutes
};

IrrigationSchedule schedule[] = {
  {6, 15},   // 6:00 AM, 15 min
  {18, 10}   // 6:00 PM, 10 min
};

void checkSchedule() {
  int currentHour = timeClient.getHours();
  
  for (auto &sched : schedule) {
    if (currentHour == sched.hour) {
      irrigate(sched.duration);
    }
  }
}
```

---

## Cost-Benefit Analysis

### Traditional Irrigation:
- **Water usage**: 100 L/day
- **Cost**: ‡∏ø3/day √ó 365 = **‡∏ø1,095/year**
- **Labor**: 30 min/day

### Smart Irrigation:
- **Initial cost**: ‡∏ø1,500 (one-time)
- **Water usage**: 50 L/day (50% savings!)
- **Cost**: ‡∏ø1.5/day √ó 365 = **‡∏ø548/year**
- **Labor**: 0 min/day (automated)

**Savings**: ‡∏ø547/year + Time saved  
**ROI**: 2.7 years

---

## Troubleshooting

### Problem: Pump runs but no water
**Solutions:**
1. Check water level in tank
2. Check for air locks in pipes
3. Verify pump voltage (should be 12V)
4. Clean pump filter

### Problem: Soil sensor always shows 0% or 100%
**Solutions:**
1. Calibrate sensor in dry air (0%) and water (100%)
2. Check wiring connections
3. Replace if corroded

### Problem: Uneven watering
**Solutions:**
1. Check drip line for clogs
2. Ensure equal pressure in all lines
3. Add pressure regulator (~‡∏ø100)

---

## Recommended Products (Thailand)

### Sensors:
- **Shopee**: "Capacitive Soil Moisture Sensor v1.2"
- **Lazada**: "HC-SR04 Ultrasonic Sensor"

### Pumps:
- **HomePro**: Submersible pumps 12V
- **Baan & Beyond**: Drip irrigation kits

### Tanks:
- **Thai Watsadu**: Plastic water tanks 200-1000L

---

## Need Help?

Questions about water management for your farm?

<LineContactButton lineOaId="@smartfarm" message="‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥ Smart Farm" />

---

**Last Updated**: 2025-12-29  
**Difficulty**: Beginner to Intermediate  
**Estimated Cost**: ‡∏ø1,100-2,000 for basic setup
